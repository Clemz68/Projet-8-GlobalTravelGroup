<template>
    <lightning-card title="Trip Manager" icon-name="custom:custom20">
    <!-- Bouton pour créer un nouveau trip -->
        <lightning-button 
            label="New Trip" 
            slot="actions" 
            aria-haspopup="dialog"
            onclick={handleAdd}>
        </lightning-button>
    <!-- Bouton pour créer un nouveau trip avec apex-->
        <lightning-button 
            label="New Trip Using Apex" 
            slot="actions" 
            aria-haspopup="dialog"
            onclick={handleAddApex}>
        </lightning-button>

        <div if:true={isLoading} style="height: 200px; position:relative">
             <lightning-spinner variant="base" size="medium"></lightning-spinner>
        </div>

        <template if:true={nodata}>
          <lightning-tile
            class="slds-m-around_small slds-box slds-p-around_medium lgc-bg slds-theme_info slds-theme_alert-texture slds-text-bold">
            <p>
              Aucun enregistrement trouvé
            </p>
          </lightning-tile>
        </template>

        <template if:true={datatableVisible}>
            <div>
                <lightning-datatable
                    data={tripItem}
                    columns={columns}
                    key-field="Id"
                    draft-values={draftValues}
                    onsave={handleSave}
                    onrowaction={handleRowAction}
                    hide-checkbox-column="true">
                </lightning-datatable>
            </div>
        </template>

    </lightning-card>
</template>